// Generated by CoffeeScript 1.3.3
(function() {

  describe("T.utils.processFirst", function() {
    return it("should parse first item into an array", function() {
      var input, output;
      input = ['div#this.class1.class2', 'text'];
      output = [
        'div', {
          id: 'this',
          'class': 'class1 class2'
        }, 'text'
      ];
      return expect(T.utils.processFirst(input)).toEqual(output);
    });
  });

  describe("T.utils.normalize", function() {
    it("should normalize array", function() {
      var input, output;
      input = ['div', ['', 'text']];
      output = ['div', 'text'];
      return expect(T.utils.normalize(input)).toEqual(output);
    });
    return it("should normalize array recursively", function() {
      var input, output;
      input = ['div', ['', 'text', ['', 'text2']]];
      output = ['div', 'text', 'text2'];
      return expect(T.utils.normalize(input)).toEqual(output);
    });
  });

  describe("T.utils.parseStyleString", function() {
    return it("should parse styles", function() {
      var input, output;
      input = "a:a-value;b:b-value;";
      output = {
        a: 'a-value',
        b: 'b-value'
      };
      return expect(T.utils.parseStyleString(input)).toEqual(output);
    });
  });

  describe("T.utils.processStyles", function() {
    return it("should work", function() {
      var input, output;
      input = {
        style: 'a:a-value;b:b-value;',
        styles: {
          c: 'c-value'
        }
      };
      output = {
        style: {
          a: 'a-value',
          b: 'b-value',
          c: 'c-value'
        }
      };
      return expect(T.utils.processStyles(input)).toEqual(output);
    });
  });

  describe("T.utils.processAttributes", function() {
    it("should merge attributes", function() {
      var input, output;
      input = [
        'div', {
          a: 1
        }, {
          a: 11,
          b: 2
        }
      ];
      output = [
        'div', {
          a: 11,
          b: 2
        }
      ];
      return expect(T.utils.processAttributes(input)).toEqual(output);
    });
    it("should merge attributes and keep other items untouched", function() {
      var input, output;
      input = [
        'div', {
          a: 1
        }, 'first', {
          b: 2
        }, 'second'
      ];
      output = [
        'div', {
          a: 1,
          b: 2
        }, 'first', 'second'
      ];
      return expect(T.utils.processAttributes(input)).toEqual(output);
    });
    it("should merge styles", function() {
      var input, output;
      input = [
        'div', {
          style: 'a:old-a;b:b-value;',
          styles: {
            c: 'c-value'
          }
        }, {
          style: 'a:new-a'
        }
      ];
      output = [
        'div', {
          style: {
            a: 'new-a',
            b: 'b-value',
            c: 'c-value'
          }
        }
      ];
      return expect(T.utils.processAttributes(input)).toEqual(output);
    });
    return it("should merge css classes", function() {
      var input, output;
      input = [
        'div', {
          'class': 'first second'
        }, {
          'class': 'third'
        }
      ];
      output = [
        'div', {
          'class': 'first second third'
        }
      ];
      return expect(T.utils.processAttributes(input)).toEqual(output);
    });
  });

  describe("T.process", function() {
    it("should create ready-to-render data from template and input", function() {
      var input, output;
      input = [
        'div', {
          'class': 'first second'
        }, {
          'class': 'third'
        }
      ];
      output = [
        'div', {
          'class': 'first second third'
        }
      ];
      return expect(T.process(input)).toEqual(output);
    });
    return it("can be called with different data", function() {
      var template;
      template = [
        'div', function(data) {
          return data;
        }
      ];
      expect(T.process(template, 'test')).toEqual(['div', 'test']);
      return expect(T.process(template, 'test1')).toEqual(['div', 'test1']);
    });
  });

}).call(this);
