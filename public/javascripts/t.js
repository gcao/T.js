// Generated by CoffeeScript 1.3.3
(function() {
  var T, isArray, isFunction, isObject,
    __slice = [].slice;

  isArray = function(o) {
    return o instanceof Array;
  };

  isFunction = function(o) {
    return typeof o === "function";
  };

  isObject = function(o) {
    return typeof o === "object" && (!(o instanceof Array));
  };

  this.T = T = function() {
    var items;
    items = 1 <= arguments.length ? __slice.call(arguments, 0) : [];
    return (function(func, args, ctor) {
      ctor.prototype = func.prototype;
      var child = new ctor, result = func.apply(child, args), t = typeof result;
      return t == "object" || t == "function" ? result || child : child;
    })(T.template, items, function(){});
  };

  T.template = function() {
    var items;
    items = 1 <= arguments.length ? __slice.call(arguments, 0) : [];
    return this.items = items;
  };

  T.template.prototype.compile = function(options) {
    return this.compiled = new T.compile(this, options);
  };

  T.template.prototype.render = function(data) {
    if (this.compiled) {
      return this.compiled(data);
    } else {
      return this.renderDefault(data);
    }
  };

  T.template.prototype.renderDefault = function(data) {};

  T.expand = function() {};

  this.render = function(template, data) {
    var first, key, name, part, result, s, second, styles, _i, _len;
    if (isFunction(template)) {
      return render(template(data));
    }
    if (!isArray(template)) {
      return template;
    }
    if (template.length === 0) {
      return;
    }
    first = template.shift();
    if (template.length === 0) {
      return "<" + first + "/>";
    }
    result = "<" + first;
    second = template.shift();
    if (isObject(second)) {
      for (key in second) {
        if (key === "style") {
          styles = second.style;
          if (isObject(styles)) {
            s = "";
            for (name in styles) {
              if (styles.hasOwnProperty(name)) {
                s += name + ":" + styles[name] + ";";
              }
            }
            result += " style=\"" + s + "\"";
          } else {
            result += " style=\"" + styles + "\"";
          }
        } else {
          if (second.hasOwnProperty(key)) {
            result += " " + key + "=\"" + second[key] + "\"";
          }
        }
      }
      if (template.length === 0) {
        result += "/>";
        return result;
      } else {
        result += ">";
      }
    } else {
      result += ">";
      result += render(second, data);
      if (template.length === 0) {
        result += "</" + first + ">";
        return result;
      }
    }
    if (template.length > 0) {
      for (_i = 0, _len = template.length; _i < _len; _i++) {
        part = template[_i];
        result += render(part, data);
      }
      result += "</" + first + ">";
    }
    return result;
  };

}).call(this);
