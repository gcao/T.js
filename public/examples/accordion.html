<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>T.js example - an accordion widget</title>
  <link href="bootstrap-3.0.3.min.css" rel="stylesheet" type="text/css" media="screen"/>
  <style>
    .collapse {
      display: none;
    }
    .collapse.in {
      display: block;
    }
  </style>
  <script type="text/javascript" src="coffee-script.js"></script>
  <script type="text/javascript" src="../javascripts/jquery-1.8.2.min.js"></script>
  <script type="text/javascript" src="../javascripts/t.js"></script>
  <script type="text/coffeescript">

#http://getbootstrap.com/javascript/#collapse

class window.AccordionGroup
  constructor: (@data...) ->

  push: (args...) ->
    @data.push arg for arg in args

  template: ->
    [ '.accordion-group'
      for accordion in @data
        accordion.template()
    ]

class Accordion
  constructor: (@parent, @heading, @body) ->

  expand: ->

  collapse: ->

  template: ->
    [ '.accordion.panel.panel-default'
      [ '.panel-heading'
        [ 'h4.panel-title'
          [ 'a.accordion-toggle'
            @heading
          ]
        ]
      ]
      [ '.panel-collapse.collapse.in'
        [ '.panel-body'
          @body
        ]
      ]
    ]

class Section
  constructor: (@name) ->

class AccountSection extends Section
  template: ->

window.accordionGroup = new AccordionGroup()
accordionGroup.push(new Accordion(accordionGroup, 'Accordion 1', 'First accordion body'))
accordionGroup.push(new Accordion(accordionGroup, 'Accordion 2', 'Second accordion body'))
accordionGroup.push(new Accordion(accordionGroup, 'Accordion 3', 'Third accordion body'))
accordionGroup.push(new Accordion(accordionGroup, 'Accordion 4', 'Fourth accordion body'))

T(accordionGroup.template()).render inside: 'body'

  </script>
</head>
<body>
This example shows a simple accordion widget created with T.js.
</body>
</html>

